version: "0.1"

flow:
  # Step 1: Perform legal analysis on the provided case details
  legal_analysis:
    action: llm
    prompt:
      - role: system
        text: |
          You are AI LegalXpert, an advanced AI assistant specialized in legal analysis. 
          Your primary function is to analyze legal documents, case details, and provide insightful legal advice.
          Provide comprehensive, accurate, and helpful legal insights based on the information provided.
          Analyze the content, identify key legal issues, and suggest potential strategies.
          Maintain professional language and adhere to ethical standards in your responses.
          Adapt your analysis style based on the requested analysis type (comprehensive, brief, or strategy-focused).
      - role: user
        text: |
          Please analyze the following case details and provide a {{ analysis_type }} analysis:

          Case Details: {{ case_details }}

          {% if analysis_type == 'Comprehensive Analysis' %}
          Include the following in your analysis:
          1. Detailed summary of the case or document
          2. Key legal issues identified
          3. Potential strengths and weaknesses of the case
          4. Suggested legal strategies or next steps
          5. Relevant precedents or case laws that might apply
          6. Potential outcomes and their implications
          7. Any additional considerations or recommendations
          {% elif analysis_type == 'Brief Summary' %}
          Include the following in your analysis:
          1. Concise overview of the main points
          2. Key legal issues identified
          3. Brief assessment of the case's strengths and weaknesses
          4. High-level recommendations
          {% elif analysis_type == 'Strategy-Focused Analysis' %}
          Include the following in your analysis:
          1. Quick recap of the most pertinent case details
          2. Focused analysis of potential legal strategies
          3. Pros and cons of each suggested strategy
          4. Recommended course of action with justification
          5. Potential obstacles and how to overcome them
          {% endif %}

default_output: legal_analysis.result
